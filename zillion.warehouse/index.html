<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Make sense of it all."><link href=https://totalhack.github.io/zillion/zillion.warehouse/ rel=canonical><meta name=author content=totalhack><link rel="shortcut icon" href=../images/chart-donut.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.2.1"><title>zillion.warehouse - Zillion</title><link rel=stylesheet href=../assets/stylesheets/main.71dfd922.min.css><link rel=stylesheet href=../assets/stylesheets/palette.616af814.min.css><meta name=theme-color content=#546e7a><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=stylesheet href=../css/extra.css></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue-grey data-md-color-accent=light-blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#module-zillionwarehouse class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://totalhack.github.io/zillion/ title=Zillion class="md-header-nav__button md-logo" aria-label=Zillion> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 2.05v3.03c3.39.49 6 3.39 6 6.92 0 .9-.18 1.75-.5 2.54l2.62 1.53c.56-1.24.88-2.62.88-4.07 0-5.18-3.95-9.45-9-9.95M12 19a7 7 0 01-7-7c0-3.53 2.61-6.43 6-6.92V2.05c-5.06.5-9 4.76-9 9.95a10 10 0 0010 10c3.3 0 6.23-1.61 8.05-4.09l-2.6-1.53A6.89 6.89 0 0112 19z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Zillion </span> <span class="md-header-nav__topic md-ellipsis"> zillion.warehouse </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/totalhack/zillion/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> totalhack/zillion </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://totalhack.github.io/zillion/ title=Zillion class="md-nav__button md-logo" aria-label=Zillion> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 2.05v3.03c3.39.49 6 3.39 6 6.92 0 .9-.18 1.75-.5 2.54l2.62 1.53c.56-1.24.88-2.62.88-4.07 0-5.18-3.95-9.45-9-9.95M12 19a7 7 0 01-7-7c0-3.53 2.61-6.43 6-6.92V2.05c-5.06.5-9 4.76-9 9.95a10 10 0 0010 10c3.3 0 6.23-1.61 8.05-4.09l-2.6-1.53A6.89 6.89 0 0112 19z"/></svg> </a> Zillion </label> <div class=md-nav__source> <a href=https://github.com/totalhack/zillion/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> totalhack/zillion </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. title="Getting Started" class=md-nav__link> Getting Started </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2 checked> <label class=md-nav__link for=nav-2> API Reference <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="API Reference" data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> API Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../zillion.configs/ title=zillion.configs class=md-nav__link> zillion.configs </a> </li> <li class=md-nav__item> <a href=../zillion.core/ title=zillion.core class=md-nav__link> zillion.core </a> </li> <li class=md-nav__item> <a href=../zillion.datasource/ title=zillion.datasource class=md-nav__link> zillion.datasource </a> </li> <li class=md-nav__item> <a href=../zillion.field/ title=zillion.field class=md-nav__link> zillion.field </a> </li> <li class=md-nav__item> <a href=../zillion.report/ title=zillion.report class=md-nav__link> zillion.report </a> </li> <li class=md-nav__item> <a href=../zillion.sql_utils/ title=zillion.sql_utils class=md-nav__link> zillion.sql_utils </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> zillion.warehouse <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg> </span> </label> <a href=./ title=zillion.warehouse class="md-nav__link md-nav__link--active"> zillion.warehouse </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#warehouse class=md-nav__link> Warehouse </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../contributing/ title=Contributing class=md-nav__link> Contributing </a> </li> <li class=md-nav__item> <a href=https://github.com/totalhack/zillion title="Star on Github" class=md-nav__link> Star on Github </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#warehouse class=md-nav__link> Warehouse </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/totalhack/zillion/edit/master/docs/zillion.warehouse.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=module-zillionwarehouse>Module zillion.warehouse<a class=headerlink href=#module-zillionwarehouse title="Permanent link">&para;</a></h1> <h2 id=warehouse><a href=https://github.com/totalhack/zillion/blob/master/zillion/warehouse.py#L32-L1056>Warehouse</a><a class=headerlink href=#warehouse title="Permanent link">&para;</a></h2> <p><em>Bases</em>: zillion.field.FieldManagerMixin</p> <div class=autodoc> <div class=autodoc-signature><em>class </em><code>zillion.warehouse.<strong>Warehouse</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>config=None</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>datasources=None</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>ds_priority=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>A reporting warehouse that contains various datasources to run queries against and combine data in report results. The warehouse may contain global definitions for metrics and dimensions, and will also perform integrity checks of any added datasources.</p> <p>Note that the id, name, and meta attributes will only be populated when the Warehouse is persisted or loaded from a database.</p> <p><strong>Parameters:</strong></p> <ul> <li><strong>config</strong> - (<em>dict, str, or buffer, optional</em>) A dict adhering to the WarehouseConfigSchema or a file location to load the config from</li> <li><strong>datasources</strong> - (<em>list, optional</em>) A list of DataSources that will make up the warehouse</li> <li><strong>ds_priority</strong> - (<em>list, optional</em>) An ordered list of datasource names establishing querying priority. This comes into play when part of a report may be satisfied by multiple datasources. Datasources earlier in this list will be higher priority.</li> </ul></div> <div class=autodoc-members> <div class=autodoc-signature><code><strong>add_datasource</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>ds</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>skip_integrity_checks=False</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Add a datasource to this warehouse</p> <p><strong>Parameters:</strong></p> <ul> <li><strong>ds</strong> - (<em>DataSource</em>) The datasource object to add</li> <li><strong>skip_integrity_checks</strong> - (<em>bool, optional</em>) If True, skip warehouse integrity checks</li> </ul></div> <div class=autodoc-signature><code><strong>add_dimension</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>dimension</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>force=False</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Add a reference to a dimension to this FieldManager</p></div> <div class=autodoc-signature><code><strong>add_metric</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>metric</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>force=False</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Add a reference to a metric to this FieldManager</p></div> <div class=autodoc-signature><code><strong>apply_config</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>config</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>skip_integrity_checks=False</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Apply a warehouse config</p> <p><strong>Parameters:</strong></p> <ul> <li><strong>config</strong> - (<em>dict</em>) A dict adhering to the WarehouseConfigSchema</li> <li><strong>skip_integrity_checks</strong> - (<em>bool, optional</em>) If True, skip warehouse integrity checks</li> </ul></div> <div class=autodoc-signature><code><strong>delete</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>id</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Delete a saved warehouse. Note that this does not delete any report specs that reference this warehouse ID.</p> <p><strong>Parameters:</strong></p> <ul> <li><strong>id</strong> - (<em>int</em>) The ID of a Warehouse to delete</li> </ul></div> <div class=autodoc-signature><code><strong>delete_report</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>spec_id</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Delete a report by spec ID</p> <p><strong>Parameters:</strong></p> <ul> <li><strong>spec_id</strong> - (<em>int</em>) The ID of a report spec to delete</li> </ul></div> <div class=autodoc-signature><code><strong>directly_has_dimension</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>name</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Check if this FieldManager directly stores this dimension</p></div> <div class=autodoc-signature><code><strong>directly_has_field</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>name</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Check if this FieldManager directly stores this field</p></div> <div class=autodoc-signature><code><strong>directly_has_metric</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>name</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Check if this FieldManager directly stores this metric</p></div> <div class=autodoc-signature><code><strong>execute</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>metrics=None</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>dimensions=None</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>criteria=None</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>row_filters=None</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>rollup=None</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>pivot=None</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>order_by=None</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>limit=None</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>limit_first=False</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_datasources=None</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>allow_partial=False</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Build and execute a Report</p> <p><strong>Returns:</strong></p> <p>(<em>ReportResult</em>) - The result of the report</p></div> <div class=autodoc-signature><code><strong>execute_id</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>spec_id</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_datasources=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Build and execute a report from a spec ID</p> <p><strong>Parameters:</strong></p> <ul> <li><strong>spec_id</strong> - (<em>int</em>) The ID of a report spec</li> <li><strong>adhoc_datasources</strong> - (<em>list, optional</em>) A list of FieldManagers specific to this request</li> </ul> <p><strong>Returns:</strong></p> <p>(<em>ReportResult</em>) - The result of the report</p></div> <div class=autodoc-signature><code><strong>get_child_field_managers</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a list of all datasources in this warehouse</p></div> <div class=autodoc-signature><code><strong>get_datasource</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>name</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_datasources=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get the datasource object corresponding to this datasource name</p> <p><strong>Parameters:</strong></p> <ul> <li><strong>name</strong> - (<em>str</em>) The name of the datasource</li> <li><strong>adhoc_datasources</strong> - (<em>list, optional</em>) A list of FieldManagers specific to this request</li> </ul> <p><strong>Returns:</strong></p> <p>(<em>DataSource</em>) - The matching datasource object</p></div> <div class=autodoc-signature><code><strong>get_dimension</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>obj</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_fms=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a reference to a dimension on this FieldManager</p></div> <div class=autodoc-signature><code><strong>get_dimension_configs</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_fms=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a dict of all dimension configs supported by this FieldManager</p></div> <div class=autodoc-signature><code><strong>get_dimension_names</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_fms=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a set of dimension names supported by this FieldManager</p></div> <div class=autodoc-signature><code><strong>get_dimension_table_set</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>grain</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>dimension_grain</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_datasources=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a TableSet that can satisfy dimension table joins across this grain</p> <p><strong>Parameters:</strong></p> <ul> <li><strong>grain</strong> - (<em>list</em>) A list of dimension names representing the full grain required including dimension and criteria grain</li> <li><strong>dimension_grain</strong> - (<em>list of str</em>) A list of dimension names representing the requested dimensions for report grouping</li> <li><strong>adhoc_datasources</strong> - (<em>list, optional</em>) A list of FieldManagers for this request</li> </ul> <p><strong>Returns:</strong></p> <p>(<em>TableSet</em>) - A TableSet that can satisfy this request</p></div> <div class=autodoc-signature><code><strong>get_dimensions</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_fms=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a dict of all dimensions supported by this FieldManager</p></div> <div class=autodoc-signature><code><strong>get_direct_dimension_configs</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a dict of dimension configs directly supported by this FieldManager</p></div> <div class=autodoc-signature><code><strong>get_direct_dimensions</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get dimensions directly stored on this FieldManager</p></div> <div class=autodoc-signature><code><strong>get_direct_fields</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a dict of all fields directly supported by this FieldManager</p></div> <div class=autodoc-signature><code><strong>get_direct_metric_configs</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a dict of metric configs directly supported by this FieldManager</p></div> <div class=autodoc-signature><code><strong>get_direct_metrics</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get metrics directly stored on this FieldManager</p></div> <div class=autodoc-signature><code><strong>get_field</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>obj</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_fms=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a refence to a field on this FieldManager</p></div> <div class=autodoc-signature><code><strong>get_field_instances</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>field</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_fms=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a dict of FieldManagers (including child and adhoc FMs) that support a field</p></div> <div class=autodoc-signature><code><strong>get_field_managers</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_fms=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a list of all child FieldManagers including adhoc</p></div> <div class=autodoc-signature><code><strong>get_field_names</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_fms=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a set of field names supported by this FieldManager</p></div> <div class=autodoc-signature><code><strong>get_fields</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_fms=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a dict of all fields supported by this FieldManager</p></div> <div class=autodoc-signature><code><strong>get_metric</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>obj</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_fms=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a reference to a metric on this FieldManager. If the object passed is a dict it is expected to define an AdHocMetric.</p></div> <div class=autodoc-signature><code><strong>get_metric_configs</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_fms=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a dict of all metric configs supported by this FieldManager</p></div> <div class=autodoc-signature><code><strong>get_metric_names</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_fms=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a set of metric names supported by this FieldManager</p></div> <div class=autodoc-signature><code><strong>get_metric_table_set</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>metric</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>grain</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>dimension_grain</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_datasources=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a TableSet that can satisfy a metric at a given grain</p> <p><strong>Parameters:</strong></p> <ul> <li><strong>metric</strong> - (<em>str</em>) A metric name</li> <li><strong>grain</strong> - (<em>list</em>) A list of dimension names representing the full grain required including dimension and criteria grain</li> <li><strong>dimension_grain</strong> - (<em>list of str</em>) A list of dimension names representing the requested dimensions for report grouping</li> <li><strong>adhoc_datasources</strong> - (<em>list, optional</em>) A list of FieldManagers for this request</li> </ul> <p><strong>Returns:</strong></p> <p>(<em>TableSet</em>) - A TableSet that can satisfy this request</p></div> <div class=autodoc-signature><code><strong>get_metrics</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_fms=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Get a dict of all metrics supported by this FieldManager</p></div> <div class=autodoc-signature><code><strong>has_dimension</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>name</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_fms=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Check whether a dimension is contained in this FieldManager</p></div> <div class=autodoc-signature><code><strong>has_field</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>name</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_fms=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Check whether a field is contained in this FieldManager</p></div> <div class=autodoc-signature><code><strong>has_metric</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>name</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_fms=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Check whether a metric is contained in this FieldManager</p></div> <div class=autodoc-signature><code><strong>load</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>id</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Load a Warehouse from a Warehouse ID</p> <p><strong>Parameters:</strong></p> <ul> <li><strong>id</strong> - (<em>int</em>) A Warehouse ID</li> </ul> <p><strong>Returns:</strong></p> <p>(<em>Warehouse</em>) - A Warehouse object</p></div> <div class=autodoc-signature><code><strong>load_report</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>spec_id</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_datasources=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Load a report from a spec ID</p> <p><strong>Parameters:</strong></p> <ul> <li><strong>spec_id</strong> - (<em>int</em>) The ID of a report spec</li> <li><strong>adhoc_datasources</strong> - (<em>list, optional</em>) A list of FieldManagers specific to this request</li> </ul> <p><strong>Returns:</strong></p> <p>(<em>Report</em>) - A report built from this report spec</p></div> <div class=autodoc-signature><code><strong>load_report_and_warehouse</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>spec_id</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Load a Report and Warehouse from a ReportSpec. The Warehouse will be populated on the returned Report object.</p> <p><strong>Parameters:</strong></p> <ul> <li><strong>spec_id</strong> - (<em>int</em>) A ReportSpec ID</li> </ul> <p><strong>Returns:</strong></p> <p>(<em>Report</em>) - A Report built from this report spec</p></div> <div class=autodoc-signature><code><strong>load_warehouse_for_report</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>spec_id</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Load the warehouse corresponding to the ReportSpec</p> <p><strong>Parameters:</strong></p> <ul> <li><strong>spec_id</strong> - (<em>int</em>) A ReportSpec ID</li> </ul> <p><strong>Returns:</strong></p> <p>(<em>Warehouse</em>) - A Warehouse object</p></div> <div class=autodoc-signature><code><strong>print_dimensions</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>indent=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Print all dimensions in this FieldManager</p></div> <div class=autodoc-signature><code><strong>print_info</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Print the warehouse structure</p></div> <div class=autodoc-signature><code><strong>print_metrics</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>indent=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Print all metrics in this FieldManager</p></div> <div class=autodoc-signature><code><strong>remove_datasource</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>ds</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>skip_integrity_checks=False</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Remove a datasource from this config</p> <p><strong>Parameters:</strong></p> <ul> <li><strong>ds</strong> - (<em>DataSource</em>) The datasource object to remove</li> <li><strong>skip_integrity_checks</strong> - (<em>bool, optional</em>) If True, skip warehouse integrity checks</li> </ul></div> <div class=autodoc-signature><code><strong>run_integrity_checks</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>adhoc_datasources=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Run a series of integrity checks on the warehouse and its datasources. This will raise a WarehouseException with all failed checks.</p> <p><strong>Parameters:</strong></p> <ul> <li><strong>adhoc_datasources</strong> - (<em>list, optional</em>) A list of FieldManagers to include for this request</li> </ul></div> <div class=autodoc-signature><code><strong>save</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>name</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>config_url</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>meta=None</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Save the warehouse config and return the ID</p> <p><strong>Parameters:</strong></p> <ul> <li><strong>name</strong> - (<em>str</em>) A name to give the Warehouse</li> <li><strong>config_url</strong> - (<em>str</em>) A URL pointing to a config file that can be used to recreate the warehouse</li> <li><strong>meta</strong> - (<em>object, optional</em>) A metadata object to be serialized as JSON and stored with the warehouse</li> </ul> <p><strong>Returns:</strong></p> <p>(<em>int</em>) - The ID of the saved Warehouse</p></div> <div class=autodoc-signature><code><strong>save_report</strong></code><span class=autodoc-punctuation>(</span><em class=autodoc-param>self</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>meta=None</em><span class=autodoc-punctuation>, </span><em class=autodoc-param>**kwargs</em><span class=autodoc-punctuation>)</span></div> <div class=autodoc-docstring><p>Init a Report and save it as a ReportSpec. Note that the Warehouse must be saved before any ReportSpecs can be saved for the Warehouse.</p> <p><strong>Parameters:</strong></p> <ul> <li><strong>meta</strong> - (<em>object, optional</em>) A metadata object to be serialized as JSON and stored with the report</li> <li><strong>**kwargs</strong> - Passed through to Report</li> </ul> <p><strong>Returns:</strong></p> <p>(<em>Report</em>) - The built report with the spec ID populated</p></div> </div> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../zillion.sql_utils/ title=zillion.sql_utils class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> zillion.sql_utils </div> </div> </a> <a href=../contributing/ title=Contributing class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Contributing </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2020 - present @totalhack </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://github.com/totalhack/zillion target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../assets/javascripts/vendor.d710d30a.min.js></script> <script src=../assets/javascripts/bundle.5f27aba8.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.27c6a5e6.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>